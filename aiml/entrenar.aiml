<?xml version="1.0" encoding="UTF-8"?>
<aiml>

<!-- File: tren.aiml -->
<!-- Last modified: June 11, 2016 -->
<!--  -->
<!-- This AIML file is part of the Rosario knowledge base. -->
<!--  -->
<!-- Rosario is a fork of the Rosie brain which is a fork of the ALICEBOT2 brain, and is optimized for use on the Pandorabots platform -->
<!--  -->
<!-- The Rosario brain is released under the terms of the GNU Lesser General -->
<!-- Public License, as published by the Free Software Foundation. -->
<!--  -->

<!-- TODO: caso A <set>pronombre</set> ME/TE/LES/NOS/OS/LES GUSTA ... -->

<!-- Caso 2 -->
<!-- A mi me gusta comer paella -->
<!-- TODO: A el le gusta jugar con sus amigas -->
<!-- A nosotros nos gusta jugar con sus amigas -->
  <category>
    <pattern>A <set>pronombre</set> <set>pronombre</set> GUSTA <set>conjugar</set> *</pattern>
    <template>
      <think>
        <set var="pronombre1"><star/></set>
        <set var="pronombre2"><star index="2"/></set>
        <set var="verbo"><star index="3"/></set>
        <set var="objeto"><star index="4"/></set>
        <set var="conjuga"><map name="conjugar2conjuga"><get var="verbo"/></map></set>
        <set var="pronombreopp1"><map name="pronombreopuesto"><get var="pronombre1"/></map></set>
        <set var="pronombreopp2"><map name="pronombreopuesto"><get var="pronombre2"/></map></set>
        <srai>SETHESHE <star/></srai>
        <set var="respuesta">A <get var="pronombreopp1"/> <get var="pronombreopp2"/> gusta <get var="verbo"/> <get var="objeto"/>.</set>
        <set var="pattern1">A QUIEN LE GUSTA <get var="verbo"/> <get var="objeto"/></set>
        <set var="pattern2">QUE <get var="pronombreopp2"/> GUSTA ^</set>
        <set var="pattern3">QUE ES LO QUE <get var="pronombreopp2"/> GUSTA ^</set>
      </think>
      Lo recordaré.
      <learn>
        <category>
          <pattern><eval><get var="pattern1"/></eval></pattern>
          <template>A <eval><get var="pronombreopp1"/></eval>.</template>
        </category>
        <category>
          <pattern><eval><get var="pattern2"/></eval></pattern>
          <template><eval><get var="respuesta"/></eval></template>
        </category>
        <category>
          <pattern><eval><get var="pattern3"/></eval></pattern>
          <template><eval><get var="respuesta"/></eval></template>
          </category>
      </learn>
    </template>
  </category>

<!-- Caso 2 -->
<!-- A mi madre le gusta comer paella -->
<!-- A tu hermana le gusta jugar con sus amigas -->
  <category>
    <pattern>A <set>pronombre</set> <set>nombrefamiliar</set> LE GUSTA <set>conjugar</set> *</pattern>
    <template>
      <think>
        <set var="pronombre"><star/></set>
        <set var="nombrefamiliar"><star index="2"/></set>
        <set var="verbo"><star index="3"/></set>
        <set var="objeto"><star index="4"/></set>
        <set var="conjuga"><map name="conjugar2conjuga"><get var="verbo"/></map></set>
        <set var="generonombrefamiliar"><map name="familiapronombre"><get var="nombrefamiliar"/></map></set>
        <set var="pronombreopp"><map name="pronombreopuesto"><get var="pronombre"/></map></set>
        <set var="respuesta">A <get var="pronombreopp"/> <get var="nombrefamiliar"/> le gusta <get var="verbo"/> <get var="objeto"/>.</set>
        <srai>SETHESHE <star/></srai>
        <set var="respuesta"><input/></set>
        <set var="pattern1">A QUIEN LE GUSTA <get var="verbo"/> <get var="objeto"/></set>
        <set var="pattern2">QUE LE GUSTA A <get var="pronombreopp"/> <get var="nombrefamiliar"/> ^</set>
        <set var="pattern3">QUE LE GUSTA A <get var="generonombrefamiliar"/> ^</set>
        <set var="pattern4">QUE LE GUSTA <get var="verbo"/> ^</set>
        <set var="pattern5">QUIEN <get var="conjuga"/> <get var="objeto"/> ^</set>
      </think>
      ¿También te gusta <get var="verbo"/> <get var="objeto"/>?
      <learn>
        <category>
          <pattern><eval><get var="pattern1"/></eval></pattern>
          <template>A <eval><get var="pronombreopp"/></eval> <eval><get var="nombrefamiliar"/></eval>.</template>
        </category>
        <category>
          <pattern><eval><get var="pattern2"/></eval></pattern>
          <template>Le gusta <eval><get var="verbo"/></eval> <eval><get var="objeto"/></eval>.</template>
          </category>
        <category>
          <pattern><eval><get var="pattern3"/></eval></pattern>
          <template>A <eval><get var="pronombre"/></eval> <eval><get var="nombrefamiliar"/></eval> le gusta <eval><get var="verbo"/></eval> <eval><get var="objeto"/></eval></template>
          </category>
        <category>
          <pattern><eval><get var="pattern4"/></eval></pattern>
          <template>Le gusta <eval><get var="verbo"/></eval> <eval><get var="objeto"/></eval></template>
          </category>
        <category>
          <pattern><eval><get var="pattern5"/></eval></pattern>
          <template><eval><get var="respuesta"/></eval></template>
        </category>
      </learn>
    </template>
  </category>

<!-- A Carlos le gusta pescar atunes -->
  <category>
    <pattern>A <set>nombre</set> LE GUSTA <set>conjugar</set> *</pattern>
    <template>
      <think>
        <set var="nombre"><star/></set>
        <set var="verbo"><star index="2"/></set>
        <set var="conjuga"><map name="conjugar2conjuga"><get var="verbo"/></map></set>
        <set var="objeto"><star index="3"/></set>
        <set var="generonombre"><map name="generonombre"><get var="nombre"/></map></set>
        <condition><name><get var="generonombre"/></name>
          <li value="M"><set var="pronombre">el</set></li>
          <li><set var="pronombre">ella</set></li>
        </condition>
        <set var="respuesta"><input/>.</set>
        <srai>SETHESHE <star/></srai>
        <set var="respuesta"><input/></set>
        <set var="pattern1">A QUIEN LE GUSTA <get var="verbo"/> <get var="objeto"/></set>
        <set var="pattern2">QUE LE GUSTA A <get var="nombre"/> ^</set>
        <set var="pattern3">QUE LE GUSTA A <get var="pronombre"/> ^</set>
        <set var="pattern4">QUE LE GUSTA <get var="verbo"/> ^</set>
        <set var="pattern5">QUIEN <get var="conjuga"/> <get var="objeto"/> ^</set>
      </think>
      ¿También te gusta <get var="verbo"/> <get var="objeto"/>?
      <learn>
        <category>
          <pattern><eval><get var="pattern1"/></eval></pattern>
          <template>A <eval><get var="nombre"/></eval>.</template>
        </category>
        <category>
          <pattern><eval><get var="pattern2"/></eval></pattern>
          <template>Le gusta <eval><get var="verbo"/></eval> <eval><get var="objeto"/></eval>.</template>
          </category>
        <category>
          <pattern><eval><get var="pattern3"/></eval></pattern>
          <template>A <eval><get var="pronombre"/></eval> le gusta <eval><get var="verbo"/></eval> <eval><get var="objeto"/></eval></template>
          </category>
        <category>
          <pattern><eval><get var="pattern4"/></eval></pattern>
          <template>Le gusta <eval><get var="verbo"/></eval>  <eval><get var="objeto"/></eval></template>
          </category>
        <category>
          <pattern><eval><get var="pattern5"/></eval></pattern>
          <template><eval><get var="respuesta"/></eval></template>
        </category>
      </learn>
    </template>
  </category>

<!-- Carlos fue a pescar atunes -->
  <category>
    <pattern><set>nombre</set> FUE A *</pattern>
    <template>
      <think>
        <set var="nombre"><star/></set>
        <set var="objeto"><star index="2"/></set>
        <set var="respuesta"><input/>.</set>
        <srai>SETHESHE <star/></srai>
        <set var="pattern1">DONDE FUE<get var="nombre"/></set>
        <set var="pattern2">DONDE FUE <get name="pronombre"/></set>
        <set var="pattern3">QUIEN FUE A <get var="objeto"/></set>
        <set var="pattern4">FUE <get var="nombre"/> A *</set>
        <set var="pattern5">QUE HIZO <get var="nombre"/></set>
        <set var="pattern6">QUE HIZO <get name="pronombre"/></set>
      </think>
      ¿Cúánto tiempo se quedó <get name="pronombre"/>?
      <learn>
        <category>
        <pattern><eval><get var="pattern1"/></eval></pattern>
          <template><eval><get var="respuesta"/></eval></template>
        </category>
        <category>
        <pattern><eval><get var="pattern2"/></eval></pattern>
          <template><eval><get var="respuesta"/></eval></template>
        </category>
        <category>
        <pattern><eval><get var="pattern3"/></eval></pattern>
          <template><eval><get var="respuesta"/></eval></template>
        </category>
        <category>
        <pattern><eval><get var="pattern4"/></eval></pattern>
          <template><eval><get var="respuesta"/></eval></template>
        </category>
        <category>
        <pattern><eval><get var="pattern5"/></eval></pattern>
          <template><eval><get var="respuesta"/></eval></template>
        </category>
        <category>
        <pattern><eval><get var="pattern6"/></eval></pattern>
          <template><eval><get var="respuesta"/></eval></template>
        </category>
      </learn>
    </template>
  </category>

<!-- El sobrero rojo esta debajo de la mesa blanca -->
  <category>
    <pattern><set>articulo</set> * <set>color</set> ESTA <set>prepespacial</set> <set>articulo</set> * <set>color</set></pattern>
    <template>
      <think>
        <set var="articulo1"><star/></set>
        <set var="sustantivo1"><star index="2"/></set>
        <set var="color1"><star index="3"/></set>
        <set var="relacion"><star index="4"/></set>
        <set var="articulo2"><star index="5"/></set>
        <set var="sustantivo2"><star index="6"/></set>
        <set var="color2"><star index="7"/></set>
        <set var="opuesto">
          <map name="opuesto"><get var="relacion"/></map>
        </set>
        <set var="pattern11">DONDE ESTA <get var="articulo1"/> <get var="sustantivo1"/> <get var="color1"/></set>
        <set var="pattern12">DONDE ESTA <get var="articulo1"/> <get var="sustantivo1"/></set>
        <set var="respuesta1"><get var="articulo1"/> <get var="sustantivo1"/> <get var="color1"/> ESTA <get var="relation"/> DE <get var="articulo2"/> <get var="sustantivo2"/> <get var="color2"/>.</set>
        <set var="pattern21">DONDE ESTA <get var="articulo2"/> <get var="sustantivo2"/> <get var="color2"/></set>
        <set var="pattern22">DONDE ESTA <get var="articulo2"/> <get var="sustantivo2"/></set>
        <set var="respuesta2"><get var="articulo1"/> <get var="sustantivo2"/> <get var="color2"/> ESTA <get var="opuesto"/> <get var="articulo1"/> <get var="sustantivo1"/> <get var="color1"/>.</set>
        <set var="pattern3">QUE ES <get var="color1"/></set>
        <set var="respuesta3"><get var="articulo1"/> <get var="sustantivo1"/>.</set>
        <set var="pattern4">QUE ES <get var="color2"/></set>
        <set var="respuesta4"><get var="articulo2"/> <get var="sustantivo2"/>.</set>
        <set var="pattern5">DE QUE COLOR ES <get var="articulo1"/> <get var="sustantivo1"/></set>
        <set var="respuesta5"><get var="color1"/></set>
        <set var="pattern6">DE QUE COLOR ES <get var="articulo2"/> <get var="sustantivo2"/></set>
        <set var="respuesta6"><get var="color2"/></set>
      </think>
      Creo que lo he entendido.
      <learn>
        <category>
          <pattern><eval><get var="pattern11"/></eval></pattern>
          <template><eval><get var="respuesta1"/></eval></template>
        </category>
        <category>
          <pattern><eval><get var="pattern12"/></eval></pattern>
          <template><eval><get var="respuesta1"/></eval></template>
        </category>
        <category>
          <pattern><eval><get var="pattern21"/></eval></pattern>
          <template><eval><get var="respuesta2"/></eval></template>
        </category>
        <category>
          <pattern><eval><get var="pattern22"/></eval></pattern>
          <template><eval><get var="respuesta2"/></eval></template>
        </category>
        <category>
          <pattern><eval><get var="pattern3"/></eval></pattern>
          <template><eval><get var="respuesta3"/></eval></template>
        </category>
        <category>
          <pattern><eval><get var="pattern4"/></eval></pattern>
          <template><eval><get var="respuesta4"/></eval></template>
        </category>
        <category>
          <pattern><eval><get var="pattern5"/></eval></pattern>
          <template><eval><get var="respuesta5"/></eval></template>
        </category>
        <category>
          <pattern><eval><get var="pattern6"/></eval></pattern>
          <template><eval><get var="respuesta6"/></eval></template>
        </category>
      </learn>
    </template>
  </category>

<!-- TODO: A Carlos le gusta pescar atunes -->
  <category>
    <pattern><set>articulo</set> * IS <set>spatialprep</set> <set>articulo</set> *</pattern>
    <template>
      <think>
        <set var="articulo1"><star/></set>
        <set var="nombre1"><star index="2"/></set>
        <set var="relacion"><star index="3"/></set>
        <set var="articulo2"><star index="4"/></set>
        <set var="nombre2"><star index="5"/></set>
        <set var="opuesto">
          <map><name>opuesto</name><star index="2"/></map>
        </set>
        <set var="pattern11">DONDE ESTA <get var="articulo1"/> <get var="nombre1"/></set>
        <set var="pattern12">DONDE PUEDO ENCONTRAR ^ <get var="nombre1"/></set>
        <set var="pattern13">LOCALIZA ^ <get var="nombre1"/></set>
        <set var="pattern14">CUAL ES LA LOCALIZACION ^ <get var="nombre1"/></set>
        <set var="respuesta1"><get var="articulo1"/> <get var="nombre1"/> ESTA <get var="relacion"/> <get var="articulo2"/> <get var="nombre2"/>.</set>
        <set var="pattern21">DONDE ESTA <get var="articulo2"/> <get var="nombre2"/></set>
        <set var="pattern22">DONDE PUEDO ENCONTRAR ^ <get var="nombre2"/></set>
        <set var="pattern23">LOCALIZA ^ <get var="nombre2"/></set>
        <set var="pattern24">CUAL ES LA LOCALIZACION ^ <get var="nombre2"/></set>
        <set var="respuesta2"><get var="articulo2"/> <get var="nombre2"/> ESTA <get var="opuesto"/> <get var="articulo1"/> <get var="nombre1"/>.</set>
        <set var="pattern31">ESTA <get var="articulo1"/> <get var="nombre1"/> <get var="relacion"/> <get var="articulo2"/> <get var="nombre2"/></set>
        <set var="pattern32">ESTA <get var="articulo2"/> <get var="nombre2"/> <get var="opuesto"/> <get var="articulo1"/> <get var="nombre1"/></set>
        <set var="respuesta3">Si</set>
        <set var="pattern41">ESTA <get var="articulo1"/> <get var="nombre1"/> * <get var="articulo2"/> <get var="nombre2"/></set>
        <set var="pattern42">ESTA <get var="articulo2"/> <get var="nombre2"/> * <get var="articulo1"/> <get var="nombre1"/></set>
        <set var="respuesta4">No. <get var="respuesta1"/></set>
      </think>
      Entendido.
      <learn>
        <category>
          <pattern><eval><get var="pattern11"/></eval></pattern>
          <template><eval><get var="respuesta1"/></eval></template>
        </category>
        <category>
          <pattern><eval><get var="pattern12"/></eval></pattern>
          <template><eval><get var="respuesta1"/></eval></template>
        </category>
        <category>
          <pattern><eval><get var="pattern13"/></eval></pattern>
          <template><eval><get var="respuesta1"/></eval></template>
        </category>
        <category>
          <pattern><eval><get var="pattern14"/></eval></pattern>
          <template><eval><get var="respuesta1"/></eval></template>
        </category>
        <category>
          <pattern><eval><get var="pattern21"/></eval></pattern>
          <template><eval><get var="respuesta2"/></eval></template>
        </category>
        <category>
          <pattern><eval><get var="pattern22"/></eval></pattern>
          <template><eval><get var="respuesta2"/></eval></template>
        </category>
        <category>
          <pattern><eval><get var="pattern23"/></eval></pattern>
          <template><eval><get var="respuesta2"/></eval></template>
        </category>
        <category>
          <pattern><eval><get var="pattern24"/></eval></pattern>
          <template><eval><get var="respuesta2"/></eval></template>
        </category>
        <category>
          <pattern><eval><get var="pattern31"/></eval></pattern>
          <template><eval><get var="respuesta3"/></eval></template>
        </category>
        <category>
          <pattern><eval><get var="pattern32"/></eval></pattern>
          <template><eval><get var="respuesta3"/></eval></template>
        </category>
        <category>
          <pattern><eval><get var="pattern41"/></eval></pattern>
          <template><eval><get var="respuesta4"/></eval></template>
        </category>
        <category>
          <pattern><eval><get var="pattern42"/></eval></pattern>
          <template><eval><get var="respuesta4"/></eval></template>
        </category>
      </learn>
    </template>
  </category>

<!-- TODO: entenderlo -->
  <category>
    <pattern>COTILLEO</pattern>
    <template>
      <think>
        <condition name="gossiplist" value="unknown">
          <set name="gossiplist">
            <li>No tengo ningún cotilleo.</li>
          </set>
        </condition>
      </think>
      <learn>
        <category>
          <pattern>COTILLEO ALEATORIO</pattern>
          <template>
            <random>
              <eval><get name="gossiplist"/></eval>
            </random>
          </template>
        </category>
      </learn>
      <srai>COTILLEO ALEATORIO</srai>
    </template>
  </category>

<!-- TODO: entenderlo -->
  <category>
    <pattern>AÑADIR COTILLEO *</pattern>
    <template>
      <think>
        <condition name="gossiplist">
          <li value="unknown">
            <set name="gossiplist">
              <li><star/></li>
            </set>
          </li>
          <li>
            <set name="gossiplist">
              <get name="gossiplist"/>
              <li><star/></li>
            </set>
          </li>
        </condition>
      </think>
      Lo recordaré.
    </template>
  </category>

<!-- El esta bajo la higuera -->
  <category>
    <pattern><set>articulo</set> * ESTA <set>preposicion</set> *</pattern>
    <template>
      <think>
        <set var="articulo"><star/></set>
        <set var="sujeto"><star index="2"/></set>
        <set var="preposicion"><star index="3"/></set>
        <set var="objeto"><star index="4"/></set>
        <set var="respuesta"><get var="articulo"/> <get var="sujeto"/> está <get var="preposicion"/> <get var="objeto"/></set>
        <set var="pattern1">DONDE ESTA <get var="articulo"/> <get var="sujeto"/> ^</set>
        <set var="pattern3">QUE ESTA <get var="preposicion"/> <get var="objeto"/> ^</set>
        <set var="pattern4">DONDE DEBERIA BUSCAR <get var="articulo"/> <get var="sujeto"/> ^</set>
        <set var="pattern5">DONDE PUEDO ENCONTRAR <get var="articulo"/> <get var="sujeto"/> ^</set>
      </think>
      ¿Siempre está <get var="preposicion"/> <get var="objeto"/>?
      <learn>
        <category>
          <pattern><eval><get var="pattern1"/></eval></pattern>
          <template><eval><get var="respuesta"/></eval></template>
        </category>
        <category>
          <pattern><eval><get var="pattern2"/></eval></pattern>
          <template><eval><get var="respuesta"/></eval></template>
        </category>
        <category>
          <pattern><eval><get var="pattern3"/></eval></pattern>
          <template><eval><get var="respuesta"/></eval></template>
        </category>
        <category>
          <pattern><eval><get var="pattern4"/></eval></pattern>
          <template><eval><get var="respuesta"/></eval></template>
        </category>
        <category>
          <pattern><eval><get var="pattern5"/></eval></pattern>
          <template><eval><get var="respuesta"/></eval></template>
        </category>
      </learn>
      </template>
  </category>

<!-- María está debajo de la higuera -->
  <category>
    <pattern><set>nombre</set> ESTA <set>preposicion</set> *</pattern>
    <template>
      <think>
        <srai>SETHESHE <star/></srai>
        <set var="sujeto"><star/></set>
        <set var="preposicion"><star index="2"/></set>
        <set var="objeto"><star index="3"/></set>
        <set var="pattern1">DONDE ESTA <get var="sujeto"/> ^</set>
        <set var="pattern3">QUIEN ESTA <get var="preposicion"/> <get var="objeto"/> ^</set>
        <set var="pattern4">DONDE DEBERIA BUSCAR A <get var="sujeto"/> ^</set>
        <set var="pattern5">DONDE PUEDO ENCONTRAR A <get var="sujeto"/> ^</set>
        <set var="respuesta"><get var="sujeto"/> está <get var="preposicion"/> <get var="objeto"/></set>
      </think>
      ¿Siempre está <get var="preposicion"/> <get var="objeto"/>?
      <learn>
        <category>
          <pattern><eval><get var="pattern1"/></eval></pattern>
          <template><eval><get var="respuesta"/></eval></template>
        </category>
        <category>
          <pattern><eval><get var="pattern2"/></eval></pattern>
          <template><eval><get var="respuesta"/></eval></template>
        </category>
        <category>
          <pattern><eval><get var="pattern3"/></eval></pattern>
          <template><eval><get var="respuesta"/></eval></template>
        </category>
        <category>
          <pattern><eval><get var="pattern4"/></eval></pattern>
          <template><eval><get var="respuesta"/></eval></template>
        </category>
        <category>
          <pattern><eval><get var="pattern5"/></eval></pattern>
          <template><eval><get var="respuesta"/></eval></template>
        </category>
      </learn>
    </template>
  </category>

<!-- TODO: Pedro está comiendo en la higuera -->
  <category>
    <pattern><set>nombre</set> ESTA <set>conjugando</set> *</pattern>
    <template>
      <think>
        <set var="nombre"><star/></set>
        <set var="conjugando"><star index="2"/></set>
        <set var="objeto"><star index="3"/></set>
        <srai>SETHESHE <get var="nombre"/></srai>
        <set var="conjugar"><map name="conjugando2conjugar"><get var="conjugando"/></map></set>
        <set var="conjuga"><map name="conjugar2conjuga"><get var="conjugar"/></map></set>
        <set var="pattern1">A QUE <get var="conjuga"/> <get var="nombre"/></set>
        <set var="pattern2">A QUE ESTA <get var="conjugando"/> <get var="nombre"/></set>
        <set var="pattern3">QUE ESTA HACIENDO <get var="nombre"/></set>
        <set var="pattern4">QUE HACE <get var="nombre"/></set>
        <set var="pattern5">QUIEN <get var="conjuga"/> ^</set>
        <set var="pattern6">QUIEN ESTA <get var="conjugando"/> ^</set>
        <set var="respuesta"><get var="nombre"/> <get var="conjuga"/> <get var="objeto"/></set>
      </think>
      Entiendo.
      <learn>
        <category>
          <pattern><eval><get var="pattern1"/></eval></pattern>
          <template><eval><get var="respuesta"/></eval></template>
        </category>
        <category>
          <pattern><eval><get var="pattern2"/></eval></pattern>
          <template><eval><get var="respuesta"/></eval></template>
        </category>
        <category>
          <pattern><eval><get var="pattern3"/></eval></pattern>
          <template><eval><get var="respuesta"/></eval></template>
        </category>
        <category>
          <pattern><eval><get var="pattern4"/></eval></pattern>
          <template><eval><get var="respuesta"/></eval></template>
        </category>
        <category>
          <pattern><eval><get var="pattern5"/></eval></pattern>
          <template><eval><get var="respuesta"/></eval></template>
        </category>
        <category>
          <pattern><eval><get var="pattern6"/></eval></pattern>
          <template><eval><get var="respuesta"/></eval></template>
        </category>
      </learn>
    </template>
  </category>

<!-- Maria come bajo la higuera--->
  <category>
    <pattern><set>nombre</set> <set>conjuga</set> <set>preposicion</set> *</pattern>
    <template>
      <think>
        <set var="nombre"><star/></set>
        <set var="verbo"><star index="2"/></set>
        <set var="preposicion"><star index="3"/></set>
        <set var="objeto"><star index="4"/></set>
        <set var="conjugar"><map name="conjuga2conjugar"><get var="verbo"/></map></set>
        <srai>SETHESHE <get var="nombre"/></srai>
        <set var="pattern1">A QUE <get var="verbo"/> <get var="nombre"/> <get var="preposicion"/> <get var="objeto"/></set>
        <set var="pattern2">QUE HACE <get var="nombre"/></set>
        <set var="pattern3">A QUE <get name="verbo"/> <get name="pronombre"/> <get var="preposicion"/> <get var="objeto"/></set>
        <set var="pattern4">QUE HACE <get name="pronombre"/></set>
        <set var="pattern5">QUIEN <get var="verbo"/> <get var="preposicion"/> <get var="objeto"/></set>
        <set var="pattern6"><get var="verbo"/> <get var="nombre"/> <get var="preposicion"/> <get var="objeto"/></set>
        <set var="pattern7"><get var="verbo"/> <get name="pronombre"/> <get var="preposicion"/> <get var="objeto"/></set>
        <set var="pattern8">* <get var="nombre"/></set>
        <set var="pattern9">* <get name="pronombre"/></set>
        <set var="respuesta"><get var="nombre"/> <get var="verbo"/> <get var="preposicion"> <get var="objeto">.</set>
      </think>
      <learn>
        <category>
          <pattern><eval><get var="pattern1"/></eval></pattern>
          <template><eval><get var="respuesta"/></eval></template>
        </category>
        <category>
          <pattern><eval><get var="pattern2"/></eval></pattern>
          <template><eval><get var="respuesta"/></eval></template>
        </category>
        <category>
          <pattern><eval><get var="pattern3"/></eval></pattern>
          <template><eval><get var="respuesta"/></eval></template>
        </category>
        <category>
          <pattern><eval><get var="pattern4"/></eval></pattern>
          <template><eval><get var="respuesta"/></eval></template>
        </category>
        <category>
          <pattern><eval><get var="pattern5"/></eval></pattern>
          <template><eval><get var="respuesta"/></eval></template>
        </category>
        <category>
          <pattern><eval><get var="pattern6"/></eval></pattern>
          <template>Si. <eval><get var="respuesta"/></eval></template>
        </category>
        <category>
          <pattern><eval><get var="pattern7"/></eval></pattern>
          <template>Si. <eval><get var="respuesta"/></eval></template>
        </category>
        <category>
          <pattern><eval><get var="pattern8"/></eval></pattern>
          <template>No se si <eval><get var="nombre"/></eval> <star/>. Si se que <eval><get var="respuesta"/></eval></template>
        </category>
        <category>
          <pattern><eval><get var="pattern9"/></eval></pattern>
          <template>No se si <eval><get var="nombre"/></eval> <star/>. Si se que <eval><get var="respuesta"/></eval></template>
        </category>
      </learn>
      ¿Porqué <get var="verbo"/> <get var="preposicion"/> <get var="objeto"/>?
    </template>
  </category>

<!-- Yo como bajo la higuera con Maria por la tarde-->
  <category>
    <pattern>^ <set>conjugo</set> # <set>nombre</set> #</pattern>
    <template>
      <think>
        <set var="verbo"><star index="2"/></set>
        <set var="star3"><star index="3"/></set>
        <set var="nombre"><star index="4"/></set>
        <set var="star5"><star index="5"/></set>
        <set var="conjugas">
          <map name="conjugar2conjugas">
            <map name="conjugo2conjugar"><get var="conjugo"/></map>
          </map>
        </set>
        <condition value="unknown" var="star3">
          <set var="star3"/>
        </condition>
        <condition value="unknown" var="star5">
          <set var="star5"/>
        </condition>
      </think>
      ¿<get var="conjugas"/> <get var="star3"/> <get var="nombre"/>?
      <learn>
        <category>
          <pattern>CON QUIEN <eval><get var="verbo"/></eval> #</pattern>
          <template>
            <eval><get var="conjugas"/> <get var="star3"/> <get var="nombre"/> <get var="star5"/></eval>.
          </template>
        </category>
      </learn>
    </template>
  </category>

<!-- El coche tiene la puerta azul -->
<!-- TODO: El coche tiene las puertas azules -->
<!-- TODO: Los coches tienen la puerta azul -->
<!-- TODO: Los coches tienen las puertas azul -->
  <category>
    <pattern>* TIENE * <set>color</set></pattern>
    <template>
      <think>
        <set var="sujeto"><star/></set>
        <set var="color"><star index=""/></set>
        <set var="objeto"><star index="2"/></set>
        <set var="pattern1">DE QUE COLOR ES <get var="sujeto"/> ^</set>
        <set var="respuesta">El <get var="sujeto"/> tiene <get var="objeto"/> <get var="color"/>.</set>
      </think>
      Es un color bonito para <get var="objeto"/>.
      <learn>
        <category>
          <pattern><eval><get var="pattern1"/></eval></pattern>
          <template><eval><get var="respuesta"/></eval>
          </template>
        </category>
      </learn>
    </template>
  </category>

<!-- El coche es rojo -->
  <category>
    <pattern>* ES <set>color</set></pattern>
    <template>
      <think>
        <set var="sujeto"><star/></set>
        <set var="color"><star index="2"/></set>
      </think>
      Entendido.
      <learn>
        <category>
          <pattern>DE QUE COLOR ES <eval><get var="sujeto"/></eval> ^</pattern>
          <template><eval><get var="sujeto"/></eval> ES <eval><get var="color"/>.</eval>
          </template>
        </category>
      </learn>
    </template>
  </category>

<!-- Maria tiene una higuera -->
  <category>
    <pattern><set>nombre</set> TIENE *</pattern>
    <template>
      <think>
        <set var="nombre"><star/></set>
        <set var="objeto"><star index="2"/></set>
        <srai>SETHESHE <get var="nombre"/></srai>
        <set var="respuesta"><get var="nombre"/> tiene <get var="objeto"/>.</set>
      </think>
      <random>
        <li>¿Le gusta?</li>
        <li>¿Hace cuánto que lo tiene?</li>
        <li>¿Es un problema para <get var="nombre"/>?</li>
      </random>
      <learn>
        <category>
          <pattern>QUE ES LO QUE <eval><get var="nombre"/></eval> TIENE ^</pattern>
          <template><eval><get var="respuesta"/></eval></template>
        </category>
        <category>
          <pattern>QUE ES LO QUE <eval><get name="pronombre"/></eval> TIENE ^</pattern>
          <template><eval><get var="respuesta"/></eval></template>
        </category>
        <category>
          <pattern>QUIEN TIENE <eval><get var="objeto"/></eval></pattern>
          <template><eval><get var="respuesta"/></eval></template>
        </category>
      </learn>
    </template>
  </category>

  <category>
    <pattern><set>name</set> HAS <set>been</set> *</pattern>
    <template>
      <think>
        <set var="been"><star index="2"/></set>
        <set var="nombre"><star/></set>
        <set var="object"><person><star index="3"/></person></set>
        <set var="be"><map><name>been2be</name><get var="been"/></map></set>
        <set var="was"><map><name>be2was</name><get var="be"/></map></set>
        <set var="being"><map><name>be2being</name><get var="be"/></map></set>
        <srai>SETHESHE <get var="nombre"/></srai>
      </think>
      <random>
        <li>How long has <get name="pronombre"/> been <get var="being"/>?</li>
        <li>I had no idea that <get name="pronombre"/> <get var="was"/>.</li>
        <li><get var="nombre"/> <get var="was"/> <get var="object"/>?</li>
      </random>
      <learn>
        <category>
          <pattern>WHAT HAS <eval><get var="nombre"/></eval> *</pattern>
          <template><eval><get var="nombre"/> has <get var="been"/> <get var="object"/></eval>.</template>
        </category>
        <category>
          <pattern>WHAT HAS <eval><get name="pronombre"/></eval> *</pattern>
          <template><eval><get var="nombre"/> has <get var="been"/> <get var="object"/></eval>.</template>
        </category>
        <category>
          <pattern>WHO HAS <eval><get var="been"/></eval> *</pattern>
          <template><eval><get var="nombre"/> has <get var="been"/> <get var="object"/></eval>.</template>
        </category>
        <category>
          <pattern>WHO <eval><get var="was"/></eval> *</pattern>
          <template><eval><get var="nombre"/> has <get var="been"/> <get var="object"/></eval>.</template>
        </category>
        <category>
          <pattern>WHAT DID <eval><get var="nombre"/></eval> *</pattern>
          <template><eval><get var="nombre"/> has <get var="been"/> <get var="object"/></eval>.</template>
        </category>
        <category>
          <pattern>WHAT DID <eval><get name="pronombre"/></eval> *</pattern>
          <template><eval><get var="nombre"/> has <get var="been"/> <get var="object"/></eval>.</template>
        </category>
      </learn>
    </template>
  </category>

  <category>
    <pattern>I <set>was</set> *</pattern>
    <template>
      <think>
        <set var="verbo"><star/></set>
        <set var="inf"><map><name>was2be</name><star/></map></set>
        <set var="ing"><map><name>be2being</name><get var="inf"/></map></set>
        <set var="object"><person><star index="2"/></person></set>
      </think>
      <random>
        <li>Have you been <get var="ing"/> <get var="object"/> long?</li>
        <li>Where did you <get var="inf"/> <get var="object"/>?</li>
        <li>What made you <get var="inf"/> <get var="object"/>?</li>
        <li>What were you trying to do?</li>
        <li>Really?</li>
        <li>
          <think>
            <set name="istatement">I <get var="inf"/> <star index="2"/></set>
            <set name="ustatement"><person>I <star/> <star index="2"/></person></set>
          </think>
          Why?
        </li>
      </random>
      <learn>
        <category>
          <pattern>DID I <eval><get var="inf"/></eval> #</pattern>
          <template>You <eval><get var="verbo"/> <get var="object"/></eval>.</template>
        </category>
        <category>
          <pattern>WHAT DID I <eval><get var="inf"/></eval></pattern>
          <template>You <eval><get var="verbo"/> <get var="object"/></eval>.</template>
        </category>
        <category>
          <pattern>WHAT DID I DO #</pattern>
          <template>You <eval><get var="verbo"/> <get var="object"/></eval>.</template>
        </category>
        <category>
          <pattern>WHO <eval><get var="verbo"/></eval> #</pattern>
          <template>You <eval><get var="verbo"/> <get var="object"/></eval>.</template>
        </category>
      </learn>
    </template>
  </category>

  <category>
    <pattern>I WENT <set>being</set> #</pattern>
    <template>
      <random>
        <li>Have you been <star/> long?</li>
        <li>Oh are you into <star/>?</li>
        <li>I've heard other people say they like <star/></li>
      </random>
      <think>
        <set var="verbo"><star/></set>
        <set var="inf"><map><name>being2be</name><star/></map></set>
        <set var="past"><map><name>be2was</name><get var="inf"/></map></set>
      </think>
      <learn>
        <category>
          <pattern>WHAT DID I #</pattern>
          <template>You went <eval><get var="verbo"/></eval>.</template>
        </category>
        <category>
          <pattern>WHAT DID I SAY I #</pattern>
          <template>You <eval><get var="past"/></eval>.</template>
        </category>
        <category>
          <pattern>WHO WENT <eval><get var="verbo"/></eval> #</pattern>
          <template>You <eval><get var="past"/></eval>.</template>
        </category>
        <category>
          <pattern>WHO <eval><get var="past"/></eval> #</pattern>
          <template>You <eval><get var="past"/></eval>.</template>
        </category>
        <category>
          <pattern>DID I <eval><get var="inf"/></eval> #</pattern>
          <template>You <eval><get var="past"/></eval>.</template>
        </category>
      </learn>
    </template>
  </category>

  <category>
    <pattern>I AM <set>being</set> *</pattern>
    <template>
      <random>
        <li>Have you been <star/> long?</li>
        <li>Oh are you into <star/>?</li>
        <li>I've heard about other people <star/> it.</li>
      </random>
      <think>
        <set var="verbo"><star/></set>
        <set var="object"><person><star index="2"/></person></set>
        <set name="it"><set name="topic"><get var="object"/></set></set>
      </think>
      <learn>
        <category>
          <pattern>WHAT AM I <eval><get var="verbo"/> #</eval></pattern>
          <template>You are <eval><get var="verbo"/> <get var="object"/></eval></template>
        </category>
        <category>
          <pattern>WHAT AM I DOING #</pattern>
          <template>You are <eval><get var="verbo"/> <get var="object"/></eval></template>
        </category>
        <category>
          <pattern>WHAT DID I SAY I #</pattern>
          <template>You are <eval><get var="verbo"/> <get var="object"/></eval></template>
        </category>
        <category>
          <pattern>WHAT # <eval><get var="object"/></eval></pattern>
          <template>You are <eval><get var="verbo"/> <get var="object"/></eval></template>
        </category>
        <category>
          <pattern>AM I <eval><get var="verbo"/> #</eval></pattern>
          <template>You are <eval><get var="verbo"/> <get var="object"/></eval></template>
        </category>
      </learn>
    </template>
  </category>

  <category>
    <pattern>I AM <set>being</set> <set>preposition</set> *</pattern>
    <template>
      <think>
        <set var="verbo"><star/></set>
        <set var="preposicion"><person><star index="2"/></person></set>
        <set var="object"><person><star index="3"/></person></set>
        <set name="it"><set name="topic"><get var="object"/></set></set>
      </think>
      <random>
        <li>What kind?</li>
        <li>Have you been <star/> long?</li>
        <li>Oh are you into <get var="object"/>?</li>
        <li>Are other people <get var="verbo"/> <get var="preposicion"/> it?</li>
      </random>
      <learn>
        <category>
          <pattern>WHAT AM I <eval><get var="verbo"/> <get var="preposicion"/> #</eval></pattern>
          <template>You are <eval><get var="verbo"/> <get var="object"/></eval></template>
        </category>
        <category>
         <pattern>WHAT AM I DOING #</pattern>
          <template>You are <eval><get var="verbo"/> <get var="object"/></eval></template>
        </category>
        <category>
          <pattern>WHAT DID I SAY I #</pattern>
          <template>You are <eval><get var="verbo"/> <get var="object"/></eval></template>
        </category>
        <category>
          <pattern>WHAT # <eval><get var="object"/></eval></pattern>
          <template>You are <eval><get var="verbo"/> <get var="object"/></eval></template>
        </category>
        <category>
          <pattern>AM I <eval><get var="verbo"/> #</eval></pattern>
          <template>You are <eval><get var="verbo"/> <get var="object"/></eval></template>
        </category>
      </learn>
    </template>
  </category>

  <category>
    <pattern><set>name</set> *</pattern>
    <template><srai>SETHESHE <star/></srai>
      <learn>
        <category>
          <pattern>WHAT DOES <eval><star/></eval> *</pattern>
          <template><eval><star/></eval> <eval><person><star index="2"/></person></eval></template>
        </category>
        <category>
          <pattern>WHAT DOES <eval><star/></eval> DO</pattern>
          <template><eval><star/></eval> <eval><person><star index="2"/></person></eval></template>
        </category>
        <category>
          <pattern>WHAT * DOES <eval><star/></eval> *</pattern>
          <template><eval><star/></eval> <eval><person><star index="2"/></person></eval></template>
        </category>
      </learn>
      For fun?
    </template>
  </category>

  <category>
    <pattern>SETHESHE <set>nombrefamiliar</set></pattern>
    <template>
      <think>
        <set name="pronombre"><map><name>familiarprobombre</name><star/></map></set>
        <set><name><get name="pronombre"/></name><star/></set>
      </think>
    </template>
  </category>

  <category>
    <pattern>* MEANS *</pattern>
    <template><srai>EQUATE <star/> TO <star index="2"/></srai></template>
  </category>

  <category>
    <pattern><set>name</set> MEANS *</pattern>
    <template><srai>EQUATE <star/> TO <star index="2"/></srai></template>
  </category>

  <category>
    <pattern>EQUATE * TO *</pattern>
    <template>
      <think>
        <set name="equalto"><srai>IS <star/> EQUALTO <star index="2"/></srai></set>
      </think>
      <condition name="equalto">
        <li value="false">
          OK, when you say "<star/>", I will assume you mean "<star index="2"/>".
          <learn>
            <category>
            <pattern><eval><star/></eval></pattern>
              <template><srai><eval><star index="2"/></eval></srai></template>
            </category>
            <category>
            <pattern><eval><star/></eval> _</pattern>
              <template><srai><eval><star index="2"/></eval> <star/></srai></template>
            </category>
            <category>
            <pattern>_ <eval><star/></eval></pattern>
              <template><srai><star/> <eval><star index="2"/></eval></srai></template>
            </category>
            <category>
            <pattern>_ <eval><star/></eval> *</pattern>
              <template><srai><star/> <eval><star index="2"/></eval> <star index="2"/></srai></template>
            </category>
          </learn>
        </li>
        <li><star/> is already the same as <star index="2"/>.</li>
      </condition>
    </template>
  </category>

  <category>
    <pattern>* IS AN *</pattern>
    <template>Ok, I will remember <star/> is a <star index="2"/>.
    <think>
      <set name="isaname"><srai>ISANAME <star/></srai></set>
      <condition name="isaname">
        <li value="true"><set name="learnpattern">WHO IS AN</set></li>
        <li><set name="learnpattern">WHAT IS AN</set></li>
      </condition>
    </think>
    <learn>
      <category>
        <pattern>WHAT IS <eval><star/></eval></pattern>
        <template>An <eval><star index="2"/></eval>.</template>
      </category>
      <category>
        <pattern><eval><get name="learnpattern"/></eval> <eval><star index="2"/></eval></pattern>
        <template><eval><star/></eval>.</template>
      </category>
      <category>
        <pattern>IS <eval><star/></eval> AN <star index="2"/></pattern>
        <template>Yes.</template>
      </category>
    </learn>
    </template>
  </category>

  <category>
    <pattern>A * IS NOT *</pattern>
    <template>Ok, I will remember a <star/> is not <star index="2"/>.
      <learn>
        <category>
          <pattern>WHAT IS A <eval><star/></eval></pattern>
          <template>Not <eval><star index="2"/></eval>.</template>
        </category>
        <category>
          <pattern>WHAT IS NOT <eval><star index="2"/></eval></pattern>
          <template><eval><star/></eval>.</template>
        </category>
        <category>
          <pattern>IS A <eval><star/></eval> <eval><star index="2"/></eval></pattern>
          <template>No.</template>
        </category>
      </learn>
    </template>
  </category>

  <category>
    <pattern>* IS A *</pattern>
    <template>Ok, I will remember <star/> is a <star index="2"/>.
      <think>
        <set name="isaname"><srai>ISANAME <star/></srai></set>
        <condition name="isaname">
          <li value="true"><set name="learnpattern">WHO IS A</set></li>
          <li><set name="learnpattern">WHAT IS A</set></li>
        </condition>
      </think>
      <learn>
        <category>
          <pattern>WHAT IS <eval><star/></eval></pattern>
          <template>A <eval><star index="2"/></eval>.</template>
        </category>
        <category>
          <pattern><eval><get name="learnpattern"/></eval> <eval><star index="2"/></eval></pattern>
          <template><eval><star/></eval>.</template>
        </category>
        <category>
          <pattern>IS <eval><star/></eval> A <eval><star index="2"/></eval></pattern>
          <template>Yes.</template>
        </category>
      </learn>
    </template>
  </category>

  <category>
    <pattern>* IS THE *</pattern>
    <template>Ok, I will remember <star/> is the <star index="2"/>.
      <think>
        <set name="isaname"><srai>ISANAME <star/></srai></set>
        <condition name="isaname">
        <li value="true"><set name="learnpattern">WHO IS THE</set></li>
        <li><set name="learnpattern">WHAT IS THE</set></li>
        </condition>
      </think>
      <learn>
        <category>
          <pattern>WHAT IS <eval><star/></eval></pattern>
          <template>The <eval><star index="2"/></eval>.</template>
        </category>
        <category>
          <pattern><eval><get name="learnpattern"/></eval> <eval><star index="2"/></eval></pattern>
          <template><eval><star/></eval>.</template>
        </category>
        <category>
          <pattern>IS <eval><star/></eval> THE <eval><star index="2"/></eval></pattern>
          <template>Yes.</template>
        </category>
      </learn>
    </template>
  </category>

  <category>
    <pattern><set>article</set> * IS <set>article</set> *</pattern>
    <template>
      <think>
        <set var="a1"><star/></set>
        <set var="a2"><star index="3"/></set>
        <set var="thing1"><star index="2"/></set>
        <set var="thing2"><star index="4"/></set>
      </think>
      Ok, I will remember <get var="a1"/> <get var="thing1"/> is <get var="a2"/> <get var="thing2"/>.
      <learn>
        <category>
          <pattern>WHAT IS <eval><get var="a1"/> <get var="thing1"/></eval></pattern>
          <template>
            <eval><get var="a1"/> <get var="thing1"/></eval> is <eval><get var="a2"/> <get var="thing2"/>.</eval>
          </template>
        </category>
        <category>
        <pattern>WHAT IS <eval><get var="a2"/> <get var="thing2"/></eval></pattern>
          <template>
            <eval><get var="a1"/> <get var="thing1"/></eval> is <eval><get var="a2"/> <get var="thing2"/>.</eval>
          </template>
        </category>
        <category>
        <pattern>IS <eval><get var="a1"/> <get var="thing1"/> <get var="a2"/> <get var="thing2"/></eval></pattern>
          <template>Yes.</template>
        </category>
      </learn>
    </template>
  </category>

  <category>
    <pattern><set>article</set> * ARE <set>article</set> *</pattern>
    <template>
      <think>
        <set var="a1"><star/></set>
        <set var="a2"><star index="3"/></set>
        <set var="thing1"><star index="2"/></set>
        <set var="thing2"><star index="4"/></set>
      </think>
      Ok, I will remember <get var="a1"/> <get var="thing1"/> are <get var="a2"/> <get var="thing2"/>.
      <learn>
        <category>
          <pattern>WHAT IS <eval><get var="a1"/> <get var="thing1"/></eval></pattern>
          <template>
            <eval><get var="a1"/> <get var="thing1"/></eval> are <eval><get var="a2"/> <get var="thing2"/>.</eval>
          </template>
        </category>
        <category>
          <pattern>WHAT IS <eval><get var="a2"/> <get var="thing2"/></eval></pattern>
          <template>
            <eval><get var="a1"/> <get var="thing1"/></eval> are <eval><get var="a2"/> <get var="thing2"/>.</eval>
          </template>
        </category>
        <category>
          <pattern>ARE <eval><get var="a1"/> <get var="thing1"/> <get var="a2"/> <get var="thing2"/></eval></pattern>
          <template>Yes.</template>
        </category>
      </learn>
    </template>
  </category>

  <category>
    <pattern><set>article</set> * IS *</pattern>
    <template>
      <think>
        <set var="a1"><star/></set>
        <set var="thing1"><star index="2"/></set>
        <set var="thing2"><star index="3"/></set>
      </think>
      Ok, I will remember <get var="a1"/> <get var="thing1"/> is <get var="thing2"/>.
      <learn>
        <category>
          <pattern>WHAT IS <eval><get var="a1"/> <get var="thing1"/></eval></pattern>
          <template><eval><get var="a1"/> <get var="thing1"/></eval> is <eval><get var="thing2"/>.</eval></template>
        </category>
        <category>
          <pattern>WHAT IS <eval><get var="thing2"/></eval></pattern>
          <template><eval><get var="a1"/> <get var="thing1"/></eval> is <eval><get var="thing2"/>.</eval></template>
        </category>
        <category>
          <pattern>IS <eval><get var="a1"/> <get var="thing1"/> <get var="thing2"/></eval></pattern>
          <template>Yes.</template>
        </category>
      </learn>
    </template>
  </category>

  <category>
    <pattern><set>article</set> * ARE *</pattern>
    <template>
      <think>
        <set var="a1"><star/></set>
        <set var="thing1"><star index="2"/></set>
        <set var="thing2"><star index="3"/></set>
      </think>
      Ok, I will remember <get var="a1"/> <get var="thing1"/> are <get var="thing2"/>.
      <learn>
        <category>
        <pattern>WHAT IS <eval><get var="a1"/> <get var="thing1"/></eval></pattern>
          <template><eval><get var="a1"/> <get var="thing1"/></eval> are <eval><get var="thing2"/>.</eval></template>
        </category>
        <category>
        <pattern>WHAT IS <eval><get var="thing2"/></eval></pattern>
          <template><eval><get var="a1"/> <get var="thing1"/></eval> are <eval><get var="thing2"/>.</eval></template>
        </category>
        <category>
        <pattern>ARE <eval><get var="a1"/> <get var="thing1"/> <get var="thing2"/></eval></pattern>
          <template>Yes.</template>
        </category>
      </learn>
    </template>
  </category>

  <category>
    <pattern>THE * IS NOT *</pattern>
    <template>Ok, I will remember the <star/> is not <star index="2"/>.
      <learn>
        <category>
          <pattern>WHAT IS THE <eval><star/></eval></pattern>
          <template>Not <eval><star index="2"/></eval>.</template>
        </category>
        <category>
          <pattern>WHAT IS NOT <eval><star index="2"/></eval></pattern>
          <template>The <eval><star/></eval>.</template>
        </category>
        <category>
          <pattern>IS THE <eval><star/></eval> <eval><star index="2"/></eval></pattern>
          <template>No.</template>
        </category>
      </learn>
    </template>
  </category>

  <category>
    <pattern>* IS NOT *</pattern>
    <template>Ok, I will remember <star/> is not <star index="2"/>.
      <think>
        <set name="isaname"><srai>ISANAME <star/></srai></set>
        <condition name="isaname">
          <li value="true"><set name="learnpattern">WHO IS NOT</set></li>
          <li><set name="learnpattern">WHAT IS NOT</set></li>
        </condition>
      </think>
      <learn>
        <category>
          <pattern>WHAT IS <eval><star/></eval></pattern>
          <template><eval><star index="2"/></eval>.</template>
        </category>
        <category>
          <pattern><eval><get name="learnpattern"/></eval> <eval><star index="2"/></eval></pattern>
          <template><eval><star/></eval>.</template>
        </category>
        <category>
          <pattern>IS <eval><star/></eval> <eval><star index="2"/></eval></pattern>
          <template>No.</template>
        </category>
      </learn>
    </template>
  </category>

  <category>
    <pattern>*</pattern><that>WHAT SHOULD I SAY INSTEAD</that>
    <template><srai>LEARN NEW RESPONSE <star/></srai></template>
  </category>

  <category>
    <pattern>YOU _</pattern><that>WHAT SHOULD I SAY INSTEAD</that>
    <template><srai>LEARN NEW RESPONSE You <star/></srai></template>
  </category>

  <category>
    <pattern>A _</pattern><that>WHAT SHOULD I SAY INSTEAD</that>
    <template><srai>LEARN NEW RESPONSE A <star/></srai></template>
  </category>

  <category>
    <pattern>I _</pattern><that>WHAT SHOULD I SAY INSTEAD</that>
    <template><srai>LEARN NEW RESPONSE I <star/></srai></template>
  </category>

  <category>
    <pattern>HE _</pattern><that>WHAT SHOULD I SAY INSTEAD</that>
    <template><srai>LEARN NEW RESPONSE He <star/></srai></template>
  </category>

  <category>
    <pattern>AN _</pattern><that>WHAT SHOULD I SAY INSTEAD</that>
    <template><srai>LEARN NEW RESPONSE An <star/></srai></template>
  </category>

  <category>
    <pattern>THAT _</pattern><that>WHAT SHOULD I SAY INSTEAD</that>
    <template><srai>LEARN NEW RESPONSE That <star/></srai></template>
  </category>

  <category>
    <pattern>MY * S NAME IS *</pattern>
    <template>
      <think><set name="isfamiliarname"><srai>ISAFAMILIARNAME <star/></srai></set>
        <set name="familiarpredicate"><srai>FAMILIARPREDICATE <star/></srai></set>
      </think>
      <condition name="isfamiliarname">
        <li value="true">
          <think>
            <set name="contactname"><star index="2"/></set>
          </think>
          <srai>REMEMBERFAMILIARNAME</srai>
        </li>
        <li>I will remember your <star/>'s name is <star index="2"/>.
          <learn>
            <category>
              <pattern>MY <eval><star/></eval> S NAME</pattern>
              <template><eval><star index="2"/></eval></template>
            </category>
          </learn>
        </li>
      </condition>
    </template>
  </category>

  <category>
    <pattern>MY * S AGE IS *</pattern>
    <template>I will remember your <star/>'s age.
      <learn>
        <category>
        <pattern>MY <eval><star/></eval> S AGE</pattern>
          <template><eval><star index="2"/></eval></template>
        </category>
      </learn>
    </template>
  </category>

  <category>
    <pattern>MY * IS *</pattern>
    <template>
      <think>
        <set name="isaname"><srai>ISANAME <star index="2"/></srai></set>
        <set name="isanumber"><srai>ISANUMBER <star index="2"/></srai></set>
        <set name="isafamiliarname"><srai>ISAFAMILIARNAME <star/></srai></set>
      </think>
      <condition name="isaname">
        <li value="true"><srai>MY <star/> S NAME IS <star index="2"/></srai></li>
        <li>
          <condition name="isanumber">
            <li value="true"><srai>MY <star/> S AGE IS <star index="2"/></srai></li>
            <li>
              <condition name="isafamiliarname">
                <li value="true">
                  <random>
                    <li>OK, now you can ask me "What is my <star/>?" </li>
                    <li>OK, now you can ask me "Who is <star index="2"/>?" </li>
                    <li>Your <star/> is?</li>
                    <li>Good to know.</li>
                  </random>
                  <learn>
                    <category>
                      <pattern>WHAT IS MY <eval><star/></eval></pattern>
                      <template><eval><star index="2"/></eval></template>
                    </category>
                    <category>
                      <pattern>WHO IS <eval><star index="2"/></eval></pattern>
                      <template>Your <eval><star/></eval></template>
                    </category>
                  </learn>
                </li>
                 <li>
                    <random>
                      <li>OK, now you can ask me "What is my <star/>?" </li>
                      <li>OK, now you can ask me "What is <star index="2"/>?" </li>
                      <li>Your <star/> is?</li>
                      <li>Good to know.</li>
                      <li>Where did you get your <star/>?</li>
                    </random>
                    <learn>
                      <category>
                        <pattern>WHAT IS MY <eval><star/></eval></pattern>
                        <template><eval><star index="2"/></eval></template>
                      </category>
                      <category>
                        <pattern>WHAT IS <eval><star index="2"/></eval></pattern>
                        <template>Your <eval><star/></eval></template>
                      </category>
                    </learn>
                  </li>
                </condition>
              </li>
            </condition>
          </li>
      </condition>
    </template>
  </category>

  <category>
    <pattern>MY FAVORITE * IS *</pattern>
    <template>
      <random>
        <li>OK, now you can ask me "What is my favorite <star/>?" </li>
        <li>Do you think I would like <star index="2"/> too?</li>
        <li>Good to know.</li>
        <li>What do you like best about <star index="2"/>?</li>
      </random>
      <learn>
        <category>
          <pattern>WHAT IS MY FAVORITE <eval><star/></eval></pattern>
          <template><eval><star index="2"/></eval></template>
        </category>
      </learn>
    </template>
  </category>

  <category>
    <pattern>MY _</pattern><that>WHAT SHOULD I SAY INSTEAD</that>
    <template><srai>LEARN NEW RESPONSE My <star/></srai></template>
  </category>

  <category>
    <pattern>LEARN NEW RESPONSE *</pattern>
    <template>
      OK.  Now whenever you say "<get name="newpattern"/>", I will respond with "<star/>".
      <learn>
        <category>
          <pattern><eval><normalize><get name="newpattern"/></normalize></eval></pattern>
          <template><eval><star/></eval>.</template>
        </category>
      </learn>
    </template>
  </category>

  <category>
    <pattern>LEARN * IS *</pattern>
    <template>Ok, I will remember <star/> is <star index="2"/>.
      <learn>
        <category>
        <pattern>WHAT IS <eval><star/></eval></pattern>
          <template><eval><star index="2"/></eval>.</template>
        </category>
      </learn>
    </template>
  </category>

  <category>
    <pattern>IT _</pattern><that>WHAT SHOULD I SAY INSTEAD</that>
    <template><srai>LEARN NEW RESPONSE It <star/></srai></template>
  </category>

  <category>
    <pattern>BAD ANSWER</pattern>
    <template>
      <think>
        <set name="newpattern"><input index="2"/></set>
      </think>
      OK.  You said "<input index="2"/>" and I replied "<response/>".
      What should I say instead?
    </template>
  </category>

  <category>
    <pattern>SHE _</pattern><that>WHAT SHOULD I SAY INSTEAD</that>
    <template><srai>LEARN NEW RESPONSE She <star/></srai></template>
  </category>

  <category>
    <pattern>SAY _</pattern><that>WHAT SHOULD I SAY INSTEAD</that>
    <template><srai>LEARN NEW RESPONSE <star/></srai></template>
  </category>

  <category>
    <pattern>WE _</pattern><that>WHAT SHOULD I SAY INSTEAD</that>
    <template><srai>LEARN NEW RESPONSE We <star/></srai></template>
  </category>

  <category>
    <pattern>THE _</pattern><that>WHAT SHOULD I SAY INSTEAD</that>
    <template><srai>LEARN NEW RESPONSE The <star/></srai></template>
  </category>

  <category>
    <pattern>THEY _</pattern><that>WHAT SHOULD I SAY INSTEAD</that>
    <template><srai>LEARN NEW RESPONSE They <star/></srai></template>
  </category>

  <category>
    <pattern>NEVERMIND</pattern><that>WHAT SHOULD I SAY INSTEAD</that>
    <template>Ok. We'll come back to that later.</template>
  </category>

  <category>
    <pattern>QUESTIONWORD <set>name</set> #</pattern>
    <template>Who</template>
  </category>

  <category>
    <pattern>QUESTIONWORD *</pattern>
    <template>What</template>
  </category>

  <category>
    <pattern>QUESTIONWORD SOMEONE #</pattern>
    <template>Who</template>
  </category>

  <category>
    <pattern>QUESTIONWORD SOMEBODY #</pattern>
    <template>Who</template>
  </category>

  <category>
    <pattern>MY <set>familiarname</set> <set>is</set> *</pattern>
    <template><srai><star/> <star index="2"/> <star index="3"/></srai></template>
  </category>

  <category>
    <pattern><set>familiarname</set> <set>is</set> *</pattern>
    <template>
      <think>
        <set name="learnpattern">Who <star index="2"/> <person><star index="3"/></person></set>?  
        <set name="learntemplate">Your <star/></set>.
        <learn>
          <category>
          <pattern><eval><get name="learnpattern"/></eval></pattern>
            <template><eval><get name="learntemplate"/></eval></template>
          </category>
        </learn>
      </think>
      Now you can ask me: "<get name="learnpattern"/>"?
      <think>
          <set name="learnpattern">What does my <star/> <map name="is2be"><star index="2"/></map></set>? 
          <set name="learntemplate"><person><star index="3"/></person></set>.
        <learn>
          <category>
          <pattern><eval><get name="learnpattern"/></eval></pattern>
            <template><eval><get name="learntemplate"/></eval></template>
          </category>
        </learn>
      </think>
      and "<get name="learnpattern"/>"?
    </template>
  </category>

  <category>
    <pattern>* <set>is</set> *</pattern>
    <template>
      <think>
        <set name="learnpattern"><srai>QUESTIONWORD <star/></srai> <star index="2"/> <person><star index="3"/></person></set>?  
        <set name="learntemplate"><star/></set>.
        <learn>
          <category>
            <pattern><eval><get name="learnpattern"/></eval></pattern>
            <template><eval><get name="learntemplate"/></eval></template>
          </category>
        </learn>
      </think>
      Now you can ask me: "<get name="learnpattern"/>"?
      <think>
        <set name="learnpattern">What does <star/> <map name="is2be"><star index="2"/></map></set>? 
        <set name="learntemplate"><person><star index="3"/></person></set>.
        <learn>
          <category>
          <pattern><eval><get name="learnpattern"/></eval></pattern>
            <template><eval><get name="learntemplate"/></eval></template>
          </category>
        </learn>
      </think>
      and "<get name="learnpattern"/>"?
    </template>
  </category>

  <category>
    <pattern>* <set>was</set> *</pattern>
    <template>
      <think>
        <set var="questionword"><srai>QUESTIONWORD <star/></srai></set>
        <set var="was"><star index="2"/></set>
        <set var="be"><map><name>was2be</name><get var="was"/></map></set>
        <set var="been"><map><name>be2been</name><get var="be"/></map></set>
        <set var="object"><person><star index="3"/></person></set>
      </think>
      <random>
        <li>When was this?</li>
        <li>Are you kidding me?</li>
        <li>What happened?</li>
        <li>I can't believe <star/> would <get var="be"/> <get var="object"/>.</li>
      </random>
      <learn>
        <category>
        <pattern><eval><get var="questionword"/> <get var="was"/></eval> #</pattern>
          <template><eval><star/> <get var="was"/> <get var="object"/></eval>.</template>
        </category>
        <category>
        <pattern>WHAT DID <eval><star/> <get var="be"/></eval> #</pattern>
          <template><eval><star/> <get var="was"/> <get var="object"/></eval>.</template>
        </category>
        <category>
        <pattern>WHAT DID <eval><star/></eval> DO #</pattern>
          <template><eval><star/> <get var="was"/> <get var="object"/></eval>.</template>
        </category>
        <category>
        <pattern>WHAT WAS <eval><get var="been"/></eval> #</pattern>
          <template><eval><star/> <get var="was"/> <get var="object"/></eval>.</template>
        </category>
        <category>
        <pattern>WHAT HAPPENED #</pattern>
          <template><eval><star/> <get var="was"/> <get var="object"/></eval>.</template>
        </category>
      </learn>
    </template>
  </category>

  <category>
    <pattern>MY <set>familiarname</set> * LIKES TO <set>be</set> *</pattern>
    <template>
      <think>
        <set var="familiarname"><star/></set>
        <set var="nombre"><star index="2"/></set>
        <set var="verbo"><star index="3"/></set>
        <set var="objeto"><star index="4"/></set>
        <set var="is"><map><name>be2is</name><get var="verbo"/></map></set>
        <set var="ing"><map><name>be2being</name><get var="verbo"/></map></set>
        <set><name><srai>FAMILIARPREDICATE <get var="familiarname"/></srai></name><get var="nombre"/></set>
        <srai>SETHESHE <get var="nombre"/></srai>
        <set var="respuesta"><formal><get name="pronombre"/></formal> likes <get var="ing"/> <get var="objeto"/></set>
      </think>
      <learn>
        <category>
          <pattern>MY <eval><get var="familiarname"/></eval></pattern>
          <template><eval><get var="nombre"/></eval></template>
        </category>
        <category>
        <pattern>WHO <eval><get var="is"/> <get var="objeto"/> #</eval></pattern>
          <template><formal><eval><get var="nombre"/></eval></formal>.</template>
        </category>
        <category>
        <pattern>WHO LIKES TO <eval><get var="verbo"/> <get var="objeto"/> #</eval></pattern>
          <template><formal><eval><get var="nombre"/></eval></formal>.</template>
        </category>
        <category>
        <pattern>WHAT # DOES MY <eval><get var="familiarname"/> <get var="verbo"/> #</eval></pattern>
          <template><eval><get var="respuesta"/></eval>.</template>
        </category>
        <category>
        <pattern>WHAT # DOES MY <eval><get var="familiarname"/></eval> DO #</pattern>
          <template><eval><get var="respuesta"/></eval>.</template>
        </category>
        <category>
        <pattern>WHAT # DOES MY <eval><get var="familiarname"/></eval> LIKE #</pattern>
          <template><eval><get var="respuesta"/></eval></template>
        </category>
        <category>
        <pattern>WHAT # DOES <eval><get var="nombre"/></eval> <eval><get var="verbo"/></eval> #</pattern>
          <template><eval><get var="respuesta"/></eval>.</template>
        </category>
        <category>
        <pattern>WHAT # DOES <eval><get var="nombre"/></eval> DO #</pattern>
          <template><eval><get var="respuesta"/></eval>.</template>
        </category>
        <category>
        <pattern>WHAT # DOES <eval><get var="nombre"/></eval> LIKE #</pattern>
          <template><eval><get var="respuesta"/></eval>.</template>
        </category>
        <category>
        <pattern>WHAT # DOES <eval><get name="pronombre"/></eval> <eval><get var="verbo"/></eval> #</pattern>
          <template><eval><get var="respuesta"/></eval>.</template>
        </category>
        <category>
        <pattern>WHAT # DOES <eval><get name="pronombre"/></eval> DO #</pattern>
          <template><eval><get var="respuesta"/></eval>.</template>
        </category>
        <category>
        <pattern>WHAT # DOES <eval><get name="pronombre"/></eval> LIKE #</pattern>
          <template><eval><get var="respuesta"/></eval>.</template>
        </category>
      </learn>
      Is <get name="pronombre"/> any good at <set name="it"><get var="ing"/> <get var="ing"/> <get var="objeto"/></set>?
    </template>
  </category>

  <category>
    <pattern>MY <set>familiarname</set> * LIKES TO * <set>preposition</set> *</pattern>
    <template>
      <think>
        <set var="familiarname"><star/></set>
        <set var="nombre"><star index="2"/></set>
        <set var="verbo"><star index="3"/></set>
        <set var="preposicion"><star index="4"/></set>
        <set var="objeto"><star index="5"/></set>
        <srai>SETHESHE <get var="nombre"/></srai>
        <set var="respuesta"><get name="pronombre"/> likes to <get var="verbo"/> <get var="preposicion"/> <get var="objeto"/></set>
        <set><name><srai>FAMILIARPREDICATE <get var="familiarname"/></srai></name><get var="nombre"/></set>
      </think>
      <learn>
        <category>
          <pattern>MY <eval><get var="familiarname"/></eval></pattern>
          <template><eval><get var="nombre"/></eval></template>
        </category>
        <category>
        <pattern>WHAT # DOES MY <eval><get var="familiarname"/></eval> DO #</pattern>
          <template><eval><get var="respuesta"/></eval>.</template>
        </category>
        <category>
        <pattern>WHAT # DOES MY <eval><get var="familiarname"/></eval> LIKE #</pattern>
          <template><eval><get var="respuesta"/></eval></template>
        </category>
        <category>
        <pattern>WHAT # DOES <eval><get var="nombre"/></eval> DO #</pattern>
          <template><eval><get var="respuesta"/></eval>.</template>
        </category>
        <category>
        <pattern>WHAT # DOES <eval><get var="nombre"/></eval> LIKE #</pattern>
          <template><eval><get var="respuesta"/></eval>.</template>
        </category>
        <category>
        <pattern>WHAT * DOES <eval><get var="nombre"/></eval> LIKE *</pattern>
          <template><eval><get var="respuesta"/></eval>.</template>
        </category>
        <category>
        <pattern>WHAT # DOES <eval><get name="pronombre"/></eval> DO #</pattern>
          <template><eval><get var="respuesta"/></eval>.</template>
        </category>
        <category>
        <pattern>WHAT # DOES <eval><get name="pronombre"/></eval> LIKE #</pattern>
          <template><eval><get var="respuesta"/></eval>.</template>
        </category>
        <category>
        <pattern>WHAT * DOES <eval><get name="pronombre"/></eval> LIKE *</pattern>
          <template><eval><get var="respuesta"/></eval>.</template>
        </category>
      </learn>
      Is <get name="pronombre"/> any good at <set name="it"><get var="verbo"/> <get var="preposicion"/> <get var="objeto"/></set>?
    </template>
  </category>

  <category>
    <pattern><set>name</set> <set>is</set> *</pattern>
    <template>
      <think>
        <set var="nombre"><star/></set>
        <set var="verbo"><star index="2"/></set>
        <set var="objeto"><star index="3"/></set>
        <set var="be"><map><name>is2be</name><get var="verbo"/></map></set>
        <srai>SETHESHE <get var="nombre"/></srai>
        <set var="respuesta"><formal><get name="pronombre"/></formal> <get var="verbo"/> <get var="objeto"/></set>
      </think>
      <learn>
        <category>
        <pattern>WHO <eval><get var="verbo"/> <get var="objeto"/></eval> #</pattern>
          <template><eval><get var="nombre"/></eval>.</template>
        </category>
        <category>
        <pattern>WHAT DOES <eval><get var="nombre"/> <get var="be"/></eval> #</pattern>
          <template><eval><get var="respuesta"/></eval>.</template>
        </category>
        <category>
        <pattern>WHAT DOES <eval><get var="nombre"/> DO #</eval> </pattern>
          <template><eval><get var="respuesta"/></eval>.</template>
        </category>
        <category>
        <pattern>WHAT DOES <eval><get name="pronombre"/> <get var="be"/></eval> #</pattern>
          <template><eval><get var="respuesta"/></eval>.</template>
        </category>
        <category>
        <pattern>WHAT DOES <eval><get name="pronombre"/> DO</eval> #</pattern>
          <template><eval><get var="respuesta"/></eval>.</template>
        </category>
        <category>
        <pattern>DOES <eval><get name="pronombre"/> <get var="be"/> <get var="objeto"/></eval> #</pattern>
          <template>Yes.  <eval><get var="respuesta"/></eval>.</template>
        </category>
        <category>
        <pattern>DOES <eval><get var="nombre"/> <get var="be"/> <get var="objeto"/></eval> #</pattern>
          <template>Yes.  <eval><get var="respuesta"/></eval>.</template>
        </category>
        <category>
        <pattern>DOES <eval><get name="pronombre"/></eval> *</pattern>
          <template>I don't know if <eval>get var="nombre"/&gt;</eval> <star/>.  I know <eval><get var="respuesta"/></eval>.</template>
        </category>
        <category>
        <pattern>DOES <eval><get var="nombre"/></eval> *</pattern>
          <template>I don't know if <eval><get var="nombre"/></eval> <star/>.  I know <eval><get var="respuesta"/></eval>.</template>
        </category>
      </learn>
      Why does <get name="pronombre"/> <get var="be"/> <set name="it"><get var="objeto"/></set>?
    </template>
  </category>

  <category>
    <pattern><set>name</set> <set>was</set> *</pattern>
    <template>
      <think>
        <set var="nombre"><star/></set>
        <set var="verbo"><star index="2"/></set>
        <set var="be"><map><name>was2be</name><get var="verbo"/></map></set>
        <set var="objeto"><star index="3"/></set>
        <srai>SETHESHE <get var="nombre"/></srai>
        <set var="respuesta"><formal><get name="pronombre"/></formal> <get var="verbo"/> <get var="objeto"/></set>
      </think>
      <learn>
        <category>
          <pattern>WHO <eval><get var="verbo"/> <get var="objeto"/></eval> #</pattern>
          <template><eval><get var="nombre"/></eval>.</template>
        </category>
        <category>
        <pattern>WHO <eval><get var="verbo"/></eval> #</pattern>
          <template><eval><get var="nombre"/></eval>.</template>
        </category>
        <category>
        <pattern>WHAT DID <eval><get var="nombre"/> <get var="be"/></eval> #</pattern>
          <template><eval><get var="respuesta"/></eval>.</template>
        </category>
        <category>
        <pattern>WHAT DID <eval><get var="nombre"/></eval> DO #</pattern>
          <template><eval><get var="respuesta"/></eval>.</template>
        </category>
        <category>
        <pattern>WHAT DID <eval><get name="pronombre"/> <get var="be"/></eval> #</pattern>
          <template><eval><get var="respuesta"/></eval>.</template>
        </category>
        <category>
        <pattern>WHAT DID <eval><get name="pronombre"/></eval> DO #</pattern>
          <template><eval><get var="respuesta"/></eval>.</template>
        </category>
      </learn>
      Can you tell me why <get name="pronombre"/> <get var="verbo"/> <set name="it"><get var="objeto"/></set>?
    </template>
  </category>

  <category>
    <pattern>MY <set>familiarname</set> * <set>is</set> *</pattern>
    <template>
      <think>
        <set var="familiarname"><star/></set>
        <set var="nombre"><formal><star index="2"/></formal></set>
        <set var="verbo"><star index="3"/></set>
        <set var="object"><star index="4"/></set>
        <set var="be"><map><name>is2be</name><get var="verbo"/></map></set>
        <srai>SETHESHE <get var="nombre"/></srai>
        <set var="respuesta">
          <sentence>
            <get name="pronombre"/> <get var="verbo"/> <get var="object"/>
          </sentence>
        </set>
        <srai>MY <get var="familiarname"/> S NAME IS <get var="nombre"/></srai>
      </think>
      Does <get name="pronombre"/> really?
      <learn>
        <category>
          <pattern>WHAT DOES MY <eval><get var="familiarname"/></eval> DO #</pattern>
          <template><eval><get var="respuesta"/></eval></template>
        </category>
        <category>
          <pattern>WHAT DOES <eval><get var="nombre"/></eval> DO #</pattern>
          <template><eval><get var="respuesta"/></eval></template>
        </category>
        <category>
          <pattern>WHAT DOES <eval><get name="pronombre"/></eval> DO #</pattern>
          <template><eval><get var="respuesta"/></eval></template>
        </category>
        <category>
          <pattern>DOES MY <eval><get var="familiarname"/></eval> <eval><get var="be"/></eval> #</pattern>
          <template><eval><get var="respuesta"/></eval></template>
        </category>
        <category>
          <pattern>DOES <eval><get var="nombre"/></eval> <eval><get var="be"/></eval> #</pattern>
          <template><eval><get var="respuesta"/></eval></template>
        </category>
        <category>
          <pattern>WHO <eval><get var="verbo"/></eval> #</pattern>
          <template>Your <eval><get var="familiarname"/> <get var="nombre"/></eval>.</template>
        </category>
      </learn>
    </template>
  </category>
</aiml>